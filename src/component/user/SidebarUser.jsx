"use client";

import { Sidebar, SidebarItemGroup, SidebarItems } from "flowbite-react";
import { useState } from "react";

import { NavLink } from "react-router-dom";

export default function SidebarUser({ darkThemeUser }) {
        const [isOpen, setIsOpen] = useState(
                localStorage.getItem("openSidebarUser") ? "true" : "false"
        );
        const handleOpenSidebarUser = () => {
                const open = localStorage.getItem("openSidebarUser") === "true";
                setIsOpen(!open);
                localStorage.setItem("openSidebarUser", !open);
        };
        return (
                <Sidebar
                        id="sidebar-user"
                        aria-label="Default sidebar example"
                        className={`h-[100vh] ${
                                isOpen ? "w-18" : "w-50"
                        } border border-gray-100 dark:border-gray-700 sticky top-0 transition-all duration-100`}
                >
                        <SidebarItems>
                                <SidebarItemGroup>
                                        <div className="flex items-center justify-start">
                                                <button
                                                        className="border-none focus:shadow-none outline-none bg-none px-1.5"
                                                        onClick={() =>
                                                                handleOpenSidebarUser()
                                                        }
                                                >
                                                        <svg
                                                                className="w-6 h-6"
                                                                viewBox="0 0 41 41"
                                                                fill="none"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                        >
                                                                <path
                                                                        d="M8.54167 35.875C7.60208 35.875 6.79803 35.5407 6.1295 34.8722C5.46097 34.2037 5.12614 33.3991 5.125 32.4583V8.54167C5.125 7.60208 5.45983 6.79803 6.1295 6.1295C6.79917 5.46097 7.60322 5.12614 8.54167 5.125H32.4583C33.3979 5.125 34.2025 5.45983 34.8722 6.1295C35.5419 6.79917 35.8761 7.60322 35.875 8.54167V32.4583C35.875 33.3979 35.5407 34.2025 34.8722 34.8722C34.2037 35.5419 33.3991 35.8761 32.4583 35.875H8.54167ZM20.5 32.4583H32.4583V8.54167H20.5V32.4583Z"
                                                                        fill={`${
                                                                                darkThemeUser
                                                                                        ? "white"
                                                                                        : "black"
                                                                        }`}
                                                                />
                                                        </svg>
                                                </button>
                                        </div>

                                        <div className="mt-10 flex flex-col gap-5 items-center">
                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/beranda"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex w-10 h-10 items-center justify-center gap-2"
                                                                                : "group rounded-2xl text-black bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center w-10 h-10 justify-center hover:bg-[#64C983] hover:text-white gap-2"
                                                                }
                                                        >
                                                                <svg
                                                                        width="20"
                                                                        height="20"
                                                                        viewBox="0 0 32 32"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        <path d="M15.875 7.33286L6.83333 14.5662V24.6915H13.2917V19.5249H18.4583V24.6915H24.9166V15.1875C24.9167 14.9938 24.8732 14.8025 24.7894 14.6279C24.7055 14.4533 24.5835 14.2997 24.4323 14.1787L15.875 7.33286ZM15.875 4.0249L26.0456 12.1624C26.4991 12.5252 26.8653 12.9853 27.117 13.5087C27.3688 14.0321 27.4996 14.6054 27.5 15.1862V24.6915C27.5 25.3767 27.2278 26.0338 26.7433 26.5182C26.2589 27.0027 25.6018 27.2749 24.9166 27.2749H6.83333C6.14819 27.2749 5.49111 27.0027 5.00664 26.5182C4.52217 26.0338 4.25 25.3767 4.25 24.6915V14.5662C4.25005 14.179 4.33713 13.7967 4.50482 13.4477C4.6725 13.0987 4.91649 12.7919 5.21875 12.5499L15.875 4.0249Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Beranda
                                                        </button>
                                                </div>

                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/buat-laporan"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl w-10 h-10 text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex items-center justify-center gap-2"
                                                                                : "group rounded-2xl w-10 h-10 hover:text-white text-black  bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center justify-center hover:bg-[#64C983] gap-2 "
                                                                }
                                                        >
                                                                <svg
                                                                        width="20"
                                                                        height="20"
                                                                        viewBox="0 0 31 32"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        <path d="M14.208 22.4834H16.7913V17.3167H21.958V14.7334H16.7913V9.56673H14.208V14.7334H9.04134V17.3167H14.208V22.4834ZM15.4997 28.9417C13.7129 28.9417 12.0337 28.6025 10.4622 27.9239C8.89065 27.2453 7.52363 26.3252 6.36113 25.1636C5.19863 24.002 4.27854 22.635 3.60084 21.0626C2.92315 19.4902 2.58387 17.811 2.58301 16.0251C2.58215 14.2391 2.92143 12.56 3.60084 10.9876C4.28026 9.41518 5.20036 8.04816 6.36113 6.88652C7.52191 5.72488 8.88893 4.80479 10.4622 4.12623C12.0354 3.44768 13.7146 3.1084 15.4997 3.1084C17.2848 3.1084 18.9639 3.44768 20.5372 4.12623C22.1104 4.80479 23.4774 5.72488 24.6382 6.88652C25.799 8.04816 26.7195 9.41518 27.3998 10.9876C28.0801 12.56 28.4189 14.2391 28.4163 16.0251C28.4138 17.811 28.0745 19.4902 27.3985 21.0626C26.7225 22.635 25.8024 24.002 24.6382 25.1636C23.474 26.3252 22.107 27.2458 20.5372 27.9252C18.9674 28.6046 17.2882 28.9435 15.4997 28.9417ZM15.4997 26.3584C18.3844 26.3584 20.8278 25.3574 22.8299 23.3553C24.832 21.3532 25.833 18.9098 25.833 16.0251C25.833 13.1403 24.832 10.6969 22.8299 8.69486C20.8278 6.69277 18.3844 5.69173 15.4997 5.69173C12.615 5.69173 10.1716 6.69277 8.16947 8.69486C6.16738 10.6969 5.16634 13.1403 5.16634 16.0251C5.16634 18.9098 6.16738 21.3532 8.16947 23.3553C10.1716 25.3574 12.615 26.3584 15.4997 26.3584Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Buat <br />{" "}
                                                                Laporan
                                                        </button>
                                                </div>

                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/laporan"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl w-10 h-10 text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex items-center justify-center gap-2"
                                                                                : "group rounded-2xl w-10 h-10 hover:text-white text-black  bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center justify-center hover:bg-[#64C983] gap-2 "
                                                                }
                                                        >
                                                                <svg
                                                                        width="20"
                                                                        height="20"
                                                                        viewBox="0 0 31 32"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        <path d="M6.45833 27.1748H9.91354V21.1363H3.875V24.5915C3.875 25.3019 4.12817 25.9103 4.6345 26.4166C5.14083 26.9229 5.74878 27.1757 6.45833 27.1748ZM12.4969 27.1748H18.5031V21.1363H12.4969V27.1748ZM21.0865 27.1748H24.5417C25.2521 27.1748 25.8605 26.9221 26.3668 26.4166C26.8731 25.9111 27.1259 25.3027 27.125 24.5915V21.1363H21.0865V27.1748ZM3.875 18.5529H9.91354V12.5467H3.875V18.5529ZM12.4969 18.5529H18.5031V12.5467H12.4969V18.5529ZM21.0865 18.5529H27.125V12.5467H21.0865V18.5529ZM3.875 9.96335H9.91354V3.9248H6.45833C5.74792 3.9248 5.13997 4.17797 4.6345 4.6843C4.12903 5.19064 3.87586 5.79858 3.875 6.50814V9.96335ZM12.4969 9.96335H18.5031V3.9248H12.4969V9.96335ZM21.0865 9.96335H27.125V6.50814C27.125 5.79772 26.8723 5.18978 26.3668 4.6843C25.8613 4.17883 25.2529 3.92567 24.5417 3.9248H21.0865V9.96335Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Laporan
                                                        </button>
                                                </div>

                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/riwayat"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl w-10 h-10 text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex items-center justify-center gap-2"
                                                                                : "group rounded-2xl w-10 h-10 hover:text-white text-black  bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center justify-center hover:bg-[#64C983] gap-2 "
                                                                }
                                                        >
                                                                <svg
                                                                        width="20"
                                                                        height="20"
                                                                        viewBox="0 0 31 32"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        <path d="M15.4995 28.9915C12.1627 28.9915 9.26725 27.8829 6.81309 25.6655C4.35892 23.4481 2.97038 20.6818 2.64746 17.3665H5.26309C5.586 19.9714 6.72181 22.1298 8.6705 23.8417C10.6192 25.5536 12.8955 26.4091 15.4995 26.4082C18.3843 26.4082 20.8277 25.4072 22.8298 23.4051C24.8318 21.403 25.8329 18.9596 25.8329 16.0749C25.8329 13.1901 24.8318 10.7467 22.8298 8.74466C20.8277 6.74258 18.3843 5.74154 15.4995 5.74154C13.6482 5.74154 11.9311 6.19879 10.3484 7.11329C8.76566 8.02779 7.51188 9.29276 6.58704 10.9082H10.3329V13.4915H2.84121C3.46552 10.4776 4.9617 8.00195 7.32975 6.06445C9.69781 4.12695 12.4211 3.1582 15.4995 3.1582C17.2863 3.1582 18.9655 3.49748 20.537 4.17604C22.1086 4.85459 23.4756 5.77469 24.6381 6.93633C25.8006 8.09797 26.7211 9.46498 27.3997 11.0374C28.0782 12.6098 28.4171 14.2889 28.4162 16.0749C28.4154 17.8608 28.0761 19.54 27.3984 21.1124C26.7207 22.6848 25.8006 24.0518 24.6381 25.2134C23.4756 26.3751 22.1086 27.2956 20.537 27.975C18.9655 28.6544 17.2863 28.9933 15.4995 28.9915ZM19.1162 21.4999L14.2079 16.5915V9.61654H16.7912V15.5582L20.9245 19.6915L19.1162 21.4999Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Riwayat
                                                        </button>
                                                </div>

                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/profil"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl w-10 h-10 text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex items-center justify-center gap-2"
                                                                                : "group rounded-2xl w-10 h-10 hover:text-white text-black  bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center justify-center hover:bg-[#64C983] gap-2 "
                                                                }
                                                        >
                                                                <svg
                                                                        width="16"
                                                                        height="16"
                                                                        viewBox="0 0 31 32"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        <path d="M15.5 15.5996C13.3687 15.5996 11.5443 14.8408 10.0266 13.323C8.50885 11.8053 7.75 9.98086 7.75 7.84961C7.75 5.71836 8.50885 3.89388 10.0266 2.37617C11.5443 0.858464 13.3687 0.0996094 15.5 0.0996094C17.6312 0.0996094 19.4557 0.858464 20.9734 2.37617C22.4911 3.89388 23.25 5.71836 23.25 7.84961C23.25 9.98086 22.4911 11.8053 20.9734 13.323C19.4557 14.8408 17.6312 15.5996 15.5 15.5996ZM0 31.0996V25.6746C0 24.5767 0.282875 23.5679 0.848625 22.6482C1.41438 21.7286 2.16483 21.0259 3.1 20.5402C5.10208 19.5392 7.13646 18.7887 9.20312 18.2889C11.2698 17.789 13.3687 17.5384 15.5 17.5371C17.6312 17.5358 19.7302 17.7864 21.7969 18.2889C23.8635 18.7913 25.8979 19.5418 27.9 20.5402C28.8365 21.0246 29.5876 21.7273 30.1533 22.6482C30.7191 23.5692 31.0013 24.578 31 25.6746V31.0996H0ZM3.875 27.2246H27.125V25.6746C27.125 25.3194 27.0365 24.9965 26.8596 24.7059C26.6826 24.4152 26.4482 24.1892 26.1562 24.0277C24.4125 23.1559 22.6526 22.5023 20.8766 22.067C19.1005 21.6317 17.3083 21.4134 15.5 21.4121C13.6917 21.4108 11.8995 21.6291 10.1234 22.067C8.3474 22.5049 6.5875 23.1584 4.84375 24.0277C4.55312 24.1892 4.31869 24.4152 4.14044 24.7059C3.96219 24.9965 3.87371 25.3194 3.875 25.6746V27.2246ZM15.5 11.7246C16.5656 11.7246 17.4782 11.3455 18.2377 10.5873C18.9972 9.82909 19.3763 8.91653 19.375 7.84961C19.3737 6.78269 18.9946 5.87078 18.2377 5.11386C17.4808 4.35694 16.5682 3.97719 15.5 3.97461C14.4318 3.97203 13.5199 4.35178 12.7642 5.11386C12.0086 5.87594 11.6289 6.78786 11.625 7.84961C11.6211 8.91136 12.0009 9.82392 12.7642 10.5873C13.5276 11.3507 14.4395 11.7298 15.5 11.7246Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Profil
                                                        </button>
                                                </div>

                                                <div className="flex items-center gap-2">
                                                        <NavLink
                                                                to="/user/pengaturan"
                                                                className={({
                                                                        isActive,
                                                                }) =>
                                                                        isActive
                                                                                ? "group rounded-2xl w-10 h-10 text-white bg-[#64C983] px-1 py-3 border border-gray-400 flex items-center justify-center gap-2"
                                                                                : "group rounded-2xl w-10 h-10 hover:text-white text-black  bg-[#CEFFDC] px-1 py-3 border border-gray-400 flex items-center justify-center hover:bg-[#64C983] gap-2 "
                                                                }
                                                        >
                                                                <svg
                                                                        width="20"
                                                                        height="20"
                                                                        viewBox="0 0 40 41"
                                                                        fill="currentColor"
                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                >
                                                                        `
                                                                        <path d="M17.5315 40.6245C16.5861 40.6245 15.7724 40.3245 15.0903 39.7245C14.4083 39.1245 13.9965 38.3912 13.855 37.5245L13.3824 34.2245C12.9272 34.0578 12.4986 33.8578 12.0966 33.6245C11.6947 33.3912 11.3004 33.1412 10.9139 32.8745L7.65756 34.1745C6.78221 34.5412 5.90686 34.5745 5.03151 34.2745C4.15616 33.9745 3.47339 33.4412 2.98319 32.6745L0.514706 28.5745C0.0245095 27.8078 -0.115546 26.9912 0.0945379 26.1245C0.304622 25.2578 0.777311 24.5412 1.5126 23.9745L4.29622 21.9745C4.2612 21.7412 4.2437 21.5158 4.2437 21.2985V19.9485C4.2437 19.7325 4.2612 19.5078 4.29622 19.2745L1.5126 17.2745C0.777311 16.7078 0.304622 15.9912 0.0945379 15.1245C-0.115546 14.2578 0.0245095 13.4412 0.514706 12.6745L2.98319 8.57451C3.47339 7.80784 4.15616 7.27451 5.03151 6.97451C5.90686 6.67451 6.78221 6.70784 7.65756 7.07451L10.9139 8.37451C11.299 8.10785 11.7017 7.85785 12.1218 7.62451C12.542 7.39118 12.9622 7.19118 13.3824 7.02451L13.855 3.72451C13.9951 2.85784 14.4069 2.12451 15.0903 1.52451C15.7738 0.924512 16.5875 0.624512 17.5315 0.624512H22.4685C23.4139 0.624512 24.2283 0.924512 24.9118 1.52451C25.5952 2.12451 26.0063 2.85784 26.145 3.72451L26.6176 7.02451C27.0728 7.19118 27.5021 7.39118 27.9055 7.62451C28.3088 7.85785 28.7024 8.10785 29.0861 8.37451L32.3424 7.07451C33.2178 6.70784 34.0931 6.67451 34.9685 6.97451C35.8438 7.27451 36.5266 7.80784 37.0168 8.57451L39.4853 12.6745C39.9755 13.4412 40.1155 14.2578 39.9055 15.1245C39.6954 15.9912 39.2227 16.7078 38.4874 17.2745L35.7038 19.2745C35.7388 19.5078 35.7563 19.7332 35.7563 19.9505V21.2985C35.7563 21.5158 35.7213 21.7412 35.6513 21.9745L38.4349 23.9745C39.1702 24.5412 39.6429 25.2578 39.8529 26.1245C40.063 26.9912 39.923 27.8078 39.4328 28.5745L36.9118 32.6745C36.4216 33.4412 35.7388 33.9745 34.8634 34.2745C33.9881 34.5745 33.1127 34.5412 32.2374 34.1745L29.0861 32.8745C28.701 33.1412 28.2983 33.3912 27.8782 33.6245C27.458 33.8578 27.0378 34.0578 26.6176 34.2245L26.145 37.5245C26.0049 38.3912 25.5938 39.1245 24.9118 39.7245C24.2297 40.3245 23.4153 40.6245 22.4685 40.6245H17.5315ZM17.8992 36.6245H22.0483L22.7836 31.3245C23.869 31.0578 24.876 30.6665 25.8046 30.1505C26.7332 29.6345 27.5819 29.0092 28.3508 28.2745L33.5504 30.3245L35.5987 26.9245L31.0819 23.6745C31.257 23.2078 31.3796 22.7165 31.4496 22.2005C31.5196 21.6845 31.5546 21.1592 31.5546 20.6245C31.5546 20.0898 31.5196 19.5652 31.4496 19.0505C31.3796 18.5358 31.257 18.0438 31.0819 17.5745L35.5987 14.3245L33.5504 10.9245L28.3508 13.0245C27.5805 12.2578 26.7318 11.6165 25.8046 11.1005C24.8774 10.5845 23.8704 10.1925 22.7836 9.92451L22.1008 4.62451H17.9517L17.2164 9.92451C16.131 10.1912 15.1246 10.5832 14.1975 11.1005C13.2703 11.6178 12.4209 12.2425 11.6492 12.9745L6.44958 10.9245L4.40126 14.3245L8.91807 17.5245C8.743 18.0245 8.62045 18.5245 8.55042 19.0245C8.48039 19.5245 8.44538 20.0578 8.44538 20.6245C8.44538 21.1578 8.48039 21.6745 8.55042 22.1745C8.62045 22.6745 8.743 23.1745 8.91807 23.6745L4.40126 26.9245L6.44958 30.3245L11.6492 28.2245C12.4195 28.9912 13.2689 29.6332 14.1975 30.1505C15.126 30.6678 16.1324 31.0592 17.2164 31.3245L17.8992 36.6245ZM20.105 27.6245C22.1359 27.6245 23.869 26.9412 25.3046 25.5745C26.7402 24.2078 27.458 22.5578 27.458 20.6245C27.458 18.6912 26.7402 17.0412 25.3046 15.6745C23.869 14.3078 22.1359 13.6245 20.105 13.6245C18.0392 13.6245 16.2976 14.3078 14.8803 15.6745C13.4629 17.0412 12.7535 18.6912 12.7521 20.6245C12.7507 22.5578 13.4601 24.2078 14.8803 25.5745C16.3004 26.9412 18.042 27.6245 20.105 27.6245Z" />
                                                                </svg>
                                                        </NavLink>
                                                        <button
                                                                className={`line-clamp-1 flex justify-start dark:text-white ${
                                                                        isOpen
                                                                                ? "w-0"
                                                                                : "w-25"
                                                                }`}
                                                        >
                                                                Pengaturan
                                                        </button>
                                                </div>
                                        </div>
                                </SidebarItemGroup>
                        </SidebarItems>
                </Sidebar>
        );
}
